# Automatic Page Attributes

## Basic Usage

Here's what you need to do at a minimum:

* Create a class with the `#!csharp [BlazorPath]` attribute. Make sure the class definition includes the `#!csharp partial` keyword.
* Define a constant of type `#!csharp const string` as a member within that class.
* Add the `#!csharp [Page<PageComponent>]` attribute to the member.

BlazorPathHelper will automatically scan for class definitions that meet these criteria and generate URL builder functions.

```csharp title="WebPaths.cs"
using BlazorPathHelper;
using Microsoft.AspNetCore.Components;

[BlazorPath]
public partial class WebPaths
{
  [Page<Home>]
  public const string Index = "/";
}

// Definition for each component (actually written in each component)
public partial class Home : ComponentBase;
```

??? abstract "Generated Code"

    ```csharp title="Auto Generated Code"
    // <auto-generated />
    [Route("/")]
    public partial class Home;
    ```

As a result, the `Home` component will automatically have the same effect as if it had an `@page` attribute.

!!! tip "Note!"

    You need to remove the originally defined `@page` attribute at the end.

## Parameter and Query Support

If the URL includes [parameter definitions](../UrlBuilder/index.md), the `[Parameter]` attribute is automatically added.

```csharp title="WebPaths.cs"
using BlazorPathHelper;

[BlazorPath]
public partial class WebPaths
{
  [Page<Counter>]
  public const string CounterWithState = "/counter/{count:int}";
}
```

??? abstract "Generated Code"

    ```csharp title="Auto Generated Code"
    // <auto-generated />
    [Route("/counter/{count:int}")]
    public partial class Counter
    {
      [Parameter]
      public int Count { get; set; }
    }
    ```

Similarly, by adding the `[Query<QueryRecord>]` attribute, the `[SupplyParameterFromQuery]` attribute is automatically added.

```csharp title="WebPaths.cs"
using BlazorPathHelper;

[BlazorPath]
public partial class WebPaths
{
  [Query<QueryRecord>, Page<Counter2>]
  public const string CounterWithQuery = "/counter/query";
}

public record QueryRecord(string query = "hello", int page = 0, bool? opt = null);
```

??? abstract "Generated Code"

    ```csharp title="Auto Generated Code"
    // <auto-generated />
    [Route("/counter/query")]
    public partial class Counter2
    {
      [SupplyParameterFromQuery]
      public string Query { get; set; }

      [SupplyParameterFromQuery]
      public int Page { get; set; }

      [SupplyParameterFromQuery]
      public bool? Opt { get; set; }
    }
    ```

It also supports shortened query names.

```csharp title="WebPaths.cs"
using BlazorPathHelper;

[BlazorPath]
public partial class WebPaths
{
  [Query<QueryRecord>, Page<Counter3>]
  public const string CounterWithQuery = "/counter/query";
}

public record QueryRecord
{
  [SupplyParameterFromQuery(Name = "q")]
  public string Query { get; init; } = "hello";

  [SupplyParameterFromQuery(Name = "p")]
  public int Page { get; init; } = 0;

  [SupplyParameterFromQuery(Name = "o")]
  public bool? Opt { get; init; }
}
```

??? abstract "Generated Code"

    ```csharp title="Auto Generated Code"
    // <auto-generated />
    [Route("/counter/query")]
    public partial class Counter3
    {
      [SupplyParameterFromQuery(Name = "q")]
      public string Query { get; set; }

      [SupplyParameterFromQuery(Name = "p")]
      public int Page { get; set; }

      [SupplyParameterFromQuery(Name = "o")]
      public bool? Opt { get; set; }
    }
    ```

## How It Works
TODO