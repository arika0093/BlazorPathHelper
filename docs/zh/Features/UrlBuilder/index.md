## 最小使用方法

以下是最低限必要的内容：

* 准备一个带有 `#!csharp [BlazorPath]` 属性的类。在类定义中需要使用 `#!csharp partial` 属性。
* 在该类中定义一个 `#!csharp const string` 类型的常量作为成员。

BlazorPathHelper 会自动扫描满足上述条件的类定义，并生成 URL 构建函数。

```csharp title="WebPaths.cs"
[BlazorPath]
public partial class WebPaths
{
  public const string CounterWithState = "/counter/{count:int}";
}
```

??? abstract "生成的代码"

    ```csharp title="自动生成的代码"
    // <auto-generated />
    public partial class WebPaths
    {
      public partial class Helper
      {
        public static string CounterWithState(int Count)
          => string.Format("/counter/{0}", ToStringForUrl(Count));
      }
    }
    ```

## URL定义示例
[官方文档](https://learn.microsoft.com/ja-jp/aspnet/core/blazor/fundamentals/routing?view=aspnetcore-9.0#route-constraints)中列出的所有URL定义都支持。请参阅该程序的[测试用例](https://github.com/arika0093/BlazorPathHelper/blob/main/tests/BlazorPathHelper.Tests/PathTestWithArgs.cs)。

### 常规示例

| 定义示例                           | 生成的函数                                     | 输出的URL示例                                         |
| --------------------------------- | --------------------------------------------- | -------------------------------------------------- |
| `#!csharp "/{text}"`              | `#!csharp string Text(string text)`           | `#!csharp "/sample-text"`                          |
| `#!csharp "/{active:bool}"`       | `#!csharp string Active(bool active)`         | `#!csharp "/true"`                                 |
| `#!csharp "/{dob:datetime}"`      | `#!csharp string Dob(DateTime dob)`           | `#!csharp "/2025-01-01T00:00:00Z"` ※1             |
| `#!csharp "/{price:decimal}"`     | `#!csharp string Price(decimal price)`        | `#!csharp "/123.45"`                               |
| `#!csharp "/{weight:double}"`     | `#!csharp string Weight(double weight)`       | `#!csharp "/123.45"`                               |
| `#!csharp "/{weight:float}"`      | `#!csharp string Weight(float weight)`        | `#!csharp "/123.45"`                               |
| `#!csharp "/{id:guid}"`           | `#!csharp string Id(Guid id)`                 | `#!csharp "/00001111-aaaa-2222-bbbb-3333cccc4444"` |
| `#!csharp "/{id:int}"`            | `#!csharp string Id(int id)`                  | `#!csharp "/123456789"`                            |
| `#!csharp "/{ticks:long}"`        | `#!csharp string Ticks(long ticks)`           | `#!csharp "/123456789"`                            |
| `#!csharp "/{parameter:nonfile}"` | `#!csharp string Parameter(string parameter)` | `#!csharp "/foo"`                                  |
| `#!csharp "/{*pageRoute}"`        | `#!csharp string PageRoute(string pageRoute)` | `#!csharp "/foo/bar/buz"`                          |

※1: 输出为ISO 8601格式且为UTC格式。

### 可选参数示例

| 定义示例                      | 生成的函数                                     | 输出的URL示例                       |
| ---------------------------- | --------------------------------------------- | -------------------------------- |
| `#!csharp "/{text?}"`        | `#!csharp string Text(string? text = null)`   | `#!csharp "/sample-text-2", "/"` |
| `#!csharp "/{active:bool?}"` | `#!csharp string Active(bool? active = null)` | `#!csharp "/true", "/"`          |

### 组合示例

| 定义示例                             | 生成的函数                                         | 输出的URL示例                      |
| ----------------------------------- | --------------------------------------------------- | ------------------------------- |
| `#!csharp "/{text}/{val:int}"`      | `#!csharp string TextValue(string text, int val)`   | `#!csharp "/sample/123"`        |
| `#!csharp "/{id:int}/{flag:bool?}"` | `#!csharp string IdFlag(int id, bool? flag = null)` | `#!csharp "/123/true", "/456/"` |

## 各种定义方法

```csharp title="WebPaths.cs"
using BlazorPathHelper;

[BlazorPath]
public partial class WebPaths
{
  // string
  public const string WithString = "/string/{val}";
  // nullable string
  public const string WithStringNullable = "/string-null/{val?}";
  // bool
  public const string WithBool = "/bool/{val:bool}";
  // datetime
  public const string WithDate = "/datetime/{val:datetime}";
  // decimal
  public const string WithDecimal = "/decimal/{val:decimal}";
  // double
  public const string WithDouble = "/double/{val:double}";
  // float
  public const string WithFloat = "/float/{val:float}";
  // guid
  public const string WithGuid = "/guid/{val:guid}";
  // int
  public const string WithInt = "/int/{val:int}";
  // long
  public const string WithLong = "/long/{val:long}";
  // multiple pattern
  public const string WithMultiple = "/multi/{val1:int}/{val2:int}";
  // super multiple pattern
  public const string WithSuperMultiple = "/something/{val1:string}/{val2:int}/{val3:double?}";
  // catch all pattern
  public const string WithCatchAll = "/catch-all/{*rest}";
}
```